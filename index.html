<script type="importmap">
  {
    "imports": {
      "@google/genai": "https://esm.sh/@google/genai@^0.7.0"
    }
  }
</script>
<div class="app">
  <header class="header">
    <div class="logo">
      <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
        <rect x="4" y="4" width="24" height="24" rx="8" fill="currentColor"/>
        <rect x="8" y="8" width="16" height="16" rx="4" fill="white"/>
        <circle cx="12" cy="12" r="2" fill="currentColor"/>
        <circle cx="20" cy="12" r="2" fill="currentColor"/>
        <path d="M12 18 Q16 20 20 18" stroke="currentColor" stroke-width="2" fill="none"/>
      </svg>
      <h1>StikerDadakan</h1>
    </div>
    <div class="header-actions">
      <button id="gallery-btn" class="btn btn-secondary">Gallery</button>
    </div>
  </header>

  <main class="main">
    <div class="creator-panel">
      <div class="input-section">
        <div class="input-group">
          <label for="prompt">Describe your sticker</label>
          <textarea id="prompt" placeholder="A cute panda eating ramen, kawaii style cartoon"></textarea>
        </div>
        
        <div class="options-grid">
          <div class="option-group">
            <label for="style">Style</label>
            <select id="style">
              <option value="kawaii">Kawaii</option>
              <option value="cartoon">Cartoon</option>
              <option value="minimalist">Minimalist</option>
              <option value="chibi">Chibi</option>
              <option value="pixel">Pixel Art</option>
              <option value="emoji">Emoji Style</option>
            </select>
          </div>
          
          <div class="option-group">
            <label for="mood">Mood</label>
            <select id="mood">
              <option value="happy">Happy</option>
              <option value="cool">Cool</option>
              <option value="funny">Funny</option>
              <option value="cute">Cute</option>
              <option value="serious">Serious</option>
              <option value="silly">Silly</option>
            </select>
          </div>
          
          <div class="option-group">
            <label for="color">Color Theme</label>
            <select id="color">
              <option value="vibrant">Vibrant</option>
              <option value="pastel">Pastel</option>
              <option value="monochrome">Monochrome</option>
              <option value="neon">Neon</option>
              <option value="earth">Earth Tones</option>
            </select>
          </div>
        </div>
        
        <div class="suggestions">
          <h3>Quick Ideas:</h3>
          <div class="suggestion-tags">
            <span class="tag" data-prompt="A sleepy cat wearing a graduation cap">Sleepy Graduate Cat</span>
            <span class="tag" data-prompt="A dog superhero with a cape flying">Super Dog</span>
            <span class="tag" data-prompt="A penguin drinking coffee">Coffee Penguin</span>
            <span class="tag" data-prompt="A unicorn eating pizza">Pizza Unicorn</span>
            <span class="tag" data-prompt="A robot giving thumbs up">Thumbs Up Robot</span>
            <span class="tag" data-prompt="A llama wearing sunglasses">Cool Llama</span>
          </div>
        </div>
        
        <button id="generate-btn" class="btn btn-primary">
          <span class="btn-text">Generate Sticker</span>
          <div class="btn-loader" style="display: none;">
            <div class="spinner"></div>
            <span>Generating...</span>
          </div>
        </button>
      </div>
    </div>
    
    <div class="preview-panel">
      <div class="preview-container" id="preview-container">
        <div class="preview-placeholder">
          <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
            <rect x="8" y="8" width="48" height="48" rx="12" stroke="currentColor" stroke-width="2" fill="none"/>
            <circle cx="24" cy="24" r="3" fill="currentColor"/>
            <circle cx="40" cy="24" r="3" fill="currentColor"/>
            <path d="M20 40 Q32 48 44 40" stroke="currentColor" stroke-width="2" fill="none"/>
          </svg>
          <p>Your sticker will appear here</p>
        </div>
        
        <div class="preview-result" id="preview-result" style="display: none;">
          <div class="sticker-frame">
            <img id="sticker-image" alt="Generated sticker"/>
          </div>
          <div class="result-actions">
            <button id="download-btn" class="btn btn-success">Download</button>
            <button id="regenerate-btn" class="btn btn-secondary">Regenerate</button>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <div id="error-toast" class="toast error" hidden></div>
  
  <div id="gallery-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Your Sticker Gallery</h2>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <div id="gallery-grid" class="gallery-grid"></div>
      </div>
    </div>
  </div>
</div>
<link rel="stylesheet" href="/index.css">
<script type="module" src="/index.tsx"></script>
